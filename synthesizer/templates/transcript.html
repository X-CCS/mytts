<head>
    <title>
        Synthesizer
    </title>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" type="text/css">
</head>

<body>
<script type="text/javascript">
    $(document).ready(function () {
        $("#transcriptForm").submit(function (e) {
            // prevent from normal form behaviour
            e.preventDefault();
            // serialize the form data
            var serializedData = $(this).serialize();
            $.ajax({
                type: 'POST',
                url: "{% url 'transcript' %}",
                data: serializedData,
                success: function (response) {
                    //reset the form after successful submit
                    $("#transcriptForm")[0].reset();
                },
                error: function (response) {
                    console.log(response)
                }
            });
        });
    });
</script>
<div id="message">

</div>
<div class="container">
    <div class="col-sm-6">
        <form method="POST" id="transcriptForm" action=".">
            <div class="form-group">
                {% csrf_token %}
                {{ form }}
                <input type="submit" value="Submit">
            </div>
        </form>
    </div>
    <div class="col-sm-6">
        <p>play audio</p>
        <audio controls>
            <p>{{MEDIA_URL}}</p>
            <source src="/media/cn.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>
    </div>
</div>
</body>